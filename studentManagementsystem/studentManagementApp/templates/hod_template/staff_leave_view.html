{% extends 'hod_template/base_template.html' %} {% block page_title %} Staff Apply for Leave {% endblock page_title %}
{%block main_content %}



<div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">
  <div class="card">
    <div class="header">
      <h2>
        Staff Apply for Leave
      </h2>

    </div>
    <div class="body table-responsive">
      <table class="table table-hover">
        <thead>
          <tr>
            <th>ID</th>
            <th>Staff ID</th>
            <th>Staff Name</th>
            <th>Leave Date</th>
            <th>Leave Message</th>
            <th>Apply On</th>
            <th>Action</th>
          </tr>
        </thead>
        <tbody>
          {% for leave in leaves %}
          <tr>
            <td>{{ leave.id }}</td>
            <td>{{ leave.staff_id.admin.id }}</td>
            <td>{{ leave.staff_id.admin.first_name }} {{ leave.staff_id.admin.last_name }}</td>
            <td>{{ leave.leave_date }}</td>
            <td>{{ leave.leave_message }}</td>
            <td>{{ leave.created_at }}</td>
            <td>
              {% if leave.leave_status == 0 %}
              <a href="{% url 'staff_approve_leave' leave_id=leave.id %}" class="btn btn-success">Approve</a>
              <a class="btn btn-danger" href="{% url 'staff_disapprove_leave' leave_id=leave.id %}">Disapprove</a>
              {% elif leave.leave_status == 1 %}
              <button class="btn btn-warning" disabled="disabled" data-toggle="modal"
                data-target="#reply_modal">Approved</button>
              {% else %}
              <button class="btn btn-danger" disabled="disabled" data-toggle="modal"
                data-target="#reply_modal">Disapproved</button>
              {% endif %}
            </td>

          </tr>
          {% endfor %}
        </tbody>
      </table>
    </div>
  </div>
</div>
{% endblock main_content %}
{% block custom_js %} 
{% endblock custom_js %}